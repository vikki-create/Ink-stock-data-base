<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ink Stock Management System | History Toggle Feature - Fixed UI</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <style>
        :root {
            --primary-color: #1a73e8; /* Google Blue */
            --danger-color: #ea4335; /* Google Red */
            --success-color: #34a853; /* Google Green */
            --warning-color: #fbbc05; /* Google Yellow */
            --bg-light: #f4f6f9;
            --card-bg: white;
            --text-dark: #3c4043;
            --text-light: #5f6368;
        }

        body {
            font-family: 'Poppins', sans-serif;
            margin: 0;
            padding: 0;
            background-color: var(--bg-light);
            color: var(--text-dark);
            line-height: 1.6;
        }

        /* ---------------------------------------------------- */
        /* UI & LAYOUT STYLES */
        /* ---------------------------------------------------- */
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
            display: flex;
            flex-direction: column;
            gap: 25px;
        }

        .section-card {
            background-color: var(--card-bg);
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            border: 1px solid #e8e8e8;
        }
        
        /* Summary Dashboard Grid */
        .summary-dashboard {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
        }

        .summary-card {
            background-color: var(--card-bg);
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.05);
            border-left: 5px solid var(--primary-color);
        }

        .summary-card h3 {
            margin-top: 0;
            font-size: 1em;
            color: var(--text-light);
            font-weight: 500;
        }

        .summary-card .value {
            font-size: 2em;
            font-weight: 700;
            color: var(--text-dark);
        }

        .top-row {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 25px;
        }
        
        .full-width {
            grid-column: 1 / -1;
        }
        
        /* Table Styling */
        table { width: 100%; border-collapse: separate; border-spacing: 0; margin-top: 10px; }
        th, td { padding: 12px 15px; border-bottom: 1px solid #f0f0f0; text-align: left; font-size: 0.95em; }
        th { background-color: var(--primary-color); color: white; text-transform: uppercase; font-weight: 500; position: sticky; top: 0; }
        .low-stock { background-color: #fff5f5 !important; color: var(--danger-color); font-weight: 500; }
        .history-table-container { 
            max-height: 400px; 
            overflow-y: auto; 
            border: 1px solid #e8e8e8; 
            border-radius: 8px;
        }

        /* Form/Input Styling */
        .form-group { margin-bottom: 15px; }
        input[type="number"], input[type="date"], select { width: 100%; padding: 10px; border: 1px solid #ccc; border-radius: 6px; box-sizing: border-box; }
        .min-input { width: 80px; padding: 8px; text-align: center; }

        /* Button Styling */
        .action-btn { 
            padding: 10px 15px; /* Reduced padding for smaller buttons */
            border: none; 
            border-radius: 6px; 
            cursor: pointer; 
            font-weight: 600; 
            font-size: 0.9em; /* Slightly smaller font */
            transition: background-color 0.2s, box-shadow 0.2s; 
            display: flex; 
            align-items: center; 
            gap: 8px; 
            white-space: nowrap; /* Prevents button text wrapping */
        }
        .movement-buttons { display: flex; gap: 10px; margin-top: 15px; }
        .add-btn { background-color: var(--success-color); color: white; }
        .use-btn { background-color: var(--danger-color); color: white; }
        .save-btn { background-color: var(--warning-color); color: var(--text-dark); margin-top: 15px; }
        .export-btn { background-color: var(--primary-color); color: white; }
        .clear-btn { background-color: #6c757d; color: white; margin-left: 10px; }
        
        /* FIX: Ensure buttons are in a single horizontal line */
        .history-header-controls { 
            display: flex; 
            justify-content: space-between; 
            align-items: center; 
            margin-bottom: 15px; 
            flex-wrap: wrap; /* Allows wrapping on very small screens */
            gap: 15px;
        }

        /* FIX: New class for button grouping to ensure horizontal layout */
        .button-group {
            display: flex;
            gap: 10px;
            flex-wrap: wrap; /* Important for responsiveness */
        }

        /* Notification Badge */
        .notification-badge { position: absolute; top: -10px; right: -10px; padding: 5px 10px; border-radius: 50%; background-color: var(--danger-color); color: white; font-size: 0.7em; font-weight: 700; text-align: center; box-shadow: 0 0 0 2px white; display: none; }

        /* Hide History Table by default */
        #historyTableSection {
            display: none;
            margin-top: 15px;
        }

        /* Responsive Design */
        @media (max-width: 900px) {
            .top-row { grid-template-columns: 1fr; }
            .section-card { padding: 20px; }
            /* Stack controls vertically on mobile if they don't fit */
            .history-header-controls, .button-group {
                flex-direction: column;
                align-items: stretch;
            }
            .action-btn { 
                margin: 5px 0; /* Add vertical margin when stacked */
                justify-content: center;
            }
        }
    </style>
</head>
<body>

<div class="container">
    <h1><i class="fas fa-print"></i> Real-Time Ink Stock Management</h1>
    <p class="alert-info section-card" style="font-weight: 500; margin-bottom: 0; padding: 15px; background-color: #e3f2fd; border: 1px solid #bbdefb; color: #0d47a1;">
        **Current Status:** All core functions (Stock, Movement, History) are connected to Firebase. **Please ensure Firebase Security Rules are updated.**
    </p>

    <!-- SECTION A: Summary Dashboard -->
    <div class="summary-dashboard" id="summaryDashboard">
        <div class="summary-card" style="border-left-color: var(--primary-color);">
            <h3>Total Ink Stock (Qty)</h3>
            <div class="value" id="totalStockValue">0.00</div>
        </div>
        <div class="summary-card" style="border-left-color: var(--danger-color);">
            <h3>Items Below Minimum</h3>
            <div class="value" id="lowStockItems">0</div>
        </div>
        <div class="summary-card" style="border-left-color: var(--success-color);">
            <h3>Total Transactions Logged</h3>
            <div class="value" id="totalTransactions">0</div>
        </div>
        <div class="summary-card" style="border-left-color: var(--warning-color);">
            <h3>Last Data Sync</h3>
            <div class="value" id="lastUpdateTime">N/A</div>
        </div>
    </div>
    <!-- END NEW SECTION -->

    <!-- SECTION B: STOCK TABLE AND MOVEMENT FORM (Grid Layout) -->
    <div class="top-row">

        <!-- 1. Current Stock Status Table -->
        <div class="section-card stock-section">
            <div class="history-header-controls">
                <h2>1. Current Stock & Alerts</h2>
                <div id="lowStockNotification">
                    <button class="action-btn save-btn" onclick="saveStock()">üíæ Save Minimum Levels</button>
                    <span id="badgeCount" class="notification-badge">0</span>
                </div>
            </div>
            
            <table id="currentStockTable">
                <thead>
                    <tr>
                        <th>Ink Type</th>
                        <th>Stock (Qty)</th>
                        <th>Min Alert (Qty)</th>
                        <th>Status</th>
                    </tr>
                </thead>
                <tbody id="stockTableBody">
                    <!-- Data will be inserted here by JavaScript -->
                </tbody>
            </table>
        </div>

        <!-- 2. Record Stock Movement Form -->
        <div class="section-card movement-section">
            <h2>2. Record Stock Movement</h2>
            <div class="movement-controls">
                
                <div class="form-group">
                    <label for="inkSelect">Ink Type</label>
                    <select id="inkSelect" required>
                        <!-- Options will be inserted here by JavaScript -->
                    </select>
                </div>

                <div class="form-group">
                    <label for="printerSelect">Printer / Location</label>
                    <select id="printerSelect" onchange="updateMovementButtons()" required>
                        <option value="">-- Select Printer/Location --</option>
                        <option value="Printer 1">Printer 1</option>
                        <option value="Printer 2">Printer 2</option>
                        <option value="General Stock">General Stock (Stock In/Out)</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="movementAmount">Amount (Qty)</label>
                    <input type="number" id="movementAmount" min="0" placeholder="Enter amount..." required>
                </div>

                <div class="form-group">
                    <label for="movementDate">Date</label>
                    <input type="date" id="movementDate" required>
                </div>

                <div class="movement-buttons">
                    <button class="action-btn add-btn" id="addBtn" onclick="addStock()">‚ûï Stock In</button>
                    <button class="action-btn use-btn" id="useBtn" onclick="useStock()">‚ûñ Ink Used</button>
                </div>
            </div>
        </div>
    </div>

    <!-- SECTION C: HISTORY LOG (Full Width) -->
    <div class="section-card full-width">
        <div class="history-header-controls">
            <h2>3. Transaction History Log</h2>
            <div class="button-group">
                <!-- Buttons are grouped together now -->
                <button class="action-btn export-btn" id="toggleHistoryBtn" onclick="toggleHistoryVisibility()">
                    <i class="fas fa-eye-slash"></i> Show History
                </button>
                <button class="action-btn export-btn" onclick="exportCurrentHistory()">‚¨áÔ∏è Export Full Log</button>
                <button class="action-btn clear-btn" onclick="clearHistory()">üßπ Clear History</button>
            </div>
        </div>
        
        <!-- ID: historyTableSection controls visibility -->
        <div id="historyTableSection">
            <div class="history-table-container">
                <table class="history-table">
                    <thead>
                        <tr>
                            <th>Date</th>
                            <th>Ink</th>
                            <th>Printer/Location</th>
                            <th>Operation</th>
                            <th>Amount (Qty)</th>
                        </tr>
                    </thead>
                    <tbody id="historyTableBody">
                        <!-- Data will be inserted here by JavaScript -->
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <!-- SECTION D: DATE RANGE REPORT (Full Width) -->
    <div class="section-card full-width">
        <h2>4. Date Range Report Export</h2>
        <div class="report-controls">
            <div class="form-group">
                <label for="startDate">From Date:</label>
                <input type="date" id="startDate" required>
            </div>

            <div class="form-group">
                <label for="endDate">To Date:</label>
                <input type="date" id="endDate" required>
            </div>

            <button class="action-btn export-btn" onclick="exportCSV()">‚¨áÔ∏è Download Report</button>
        </div>
        <p style="margin-top: 15px; color: var(--text-light); font-size: 0.9em;">
            Select a specific date range to generate and download a CSV report of all movements.
        </p>
    </div>
</div>

<!-- ---------------------------------------------------- -->
<!-- FIREBASE SDK & JAVASCRIPT LOGIC -->
<!-- ---------------------------------------------------- -->
<script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-database-compat.js"></script> 

<script>
    // ----------------------------------------------------------------------
    // 1. üî• FIREBASE CONFIGURATION & INITIALIZATION üî•
    // ----------------------------------------------------------------------
    const firebaseConfig = {
        apiKey: "AIzaSyAQnnfMvavwDx9yF254khrW2gOFvDtlHJk",
        authDomain: "ink-stock-data.firebaseapp.com",
        databaseURL: "https://ink-stock-data-default-rtdb.firebaseio.com",
        projectId: "ink-stock-data",
        storageBucket: "ink-stock-data.firebasestorage.app",
        messagingSenderId: "924176091088",
        appId: "1:924176091088:web:1a3d130225ca7b288cdbd5",
        measurementId: "G-KHG7PRDXT5"
    };

    const app = firebase.initializeApp(firebaseConfig);
    const database = app.database();
    
    const STOCK_REF = database.ref('stock');
    const HISTORY_REF = database.ref('history');
    
    const INITIAL_INKS = [
        { name: "Cyan", currentStock: 0, minLevel: 10 },
        { name: "Magenta", currentStock: 0, minLevel: 10 },
        { name: "Yellow", currentStock: 0, minLevel: 10 },
        { name: "Black", currentStock: 0, minLevel: 10 },
    ];

    let totalTransactionCount = 0;

    // ----------------------------------------------------------------------
    // 2. üëÅÔ∏è HISTORY TOGGLE FUNCTION
    // ----------------------------------------------------------------------

    function toggleHistoryVisibility() {
        const historySection = document.getElementById('historyTableSection');
        const toggleBtn = document.getElementById('toggleHistoryBtn');
        const isHidden = historySection.style.display === 'none' || historySection.style.display === '';

        if (isHidden) {
            historySection.style.display = 'block';
            toggleBtn.innerHTML = '<i class="fas fa-eye"></i> Hide History';
        } else {
            historySection.style.display = 'none';
            toggleBtn.innerHTML = '<i class="fas fa-eye-slash"></i> Show History';
        }
    }


    // ----------------------------------------------------------------------
    // 3. üíæ DATA LOAD & SAVE FUNCTIONS
    // ----------------------------------------------------------------------
    
    function loadAndListenToStock() {
        STOCK_REF.on('value', (snapshot) => {
            let inkData;
            if (snapshot.exists()) {
                inkData = Object.values(snapshot.val());
                document.getElementById('lastUpdateTime').textContent = new Date().toLocaleTimeString();
            } else {
                inkData = INITIAL_INKS;
                STOCK_REF.once('value', (s) => {
                    if (!s.exists()) { saveStock(inkData); }
                });
            }
            renderStockTable(inkData);
            updateSummaryDashboard(inkData, totalTransactionCount); 
        }, (error) => {
            console.error("Firebase Stock Load Error:", error);
        });
    }

    function saveStock(dataToSave = null) {
        const currentStockData = dataToSave || getStockDataFromTable();
        const firebaseObject = currentStockData.reduce((obj, ink) => {
            obj[ink.name] = ink;
            return obj;
        }, {});

        STOCK_REF.set(firebaseObject)
            .then(() => {
                if (!dataToSave) { alert("Minimum Stock Levels saved successfully!"); }
            })
            .catch(error => { console.error("Firebase Save Error:", error); });
    }

    function loadAndListenToHistory() {
        HISTORY_REF.on('value', (snapshot) => {
            const historyObj = snapshot.val();
            let history = [];

            if (historyObj) {
                history = Object.values(historyObj);
                totalTransactionCount = history.length;
            } else {
                totalTransactionCount = 0;
            }
            renderHistoryTable(history.slice().reverse());
            
            STOCK_REF.once('value', (s) => {
                if(s.exists()) {
                    updateSummaryDashboard(Object.values(s.val()), totalTransactionCount);
                }
            });

        }, (error) => {
            console.error("Firebase History Load Error:", error);
        });
    }

    function clearHistory() {
        if (confirm("‚ö†Ô∏è WARNING: This will permanently delete ALL recorded ink movements! Are you sure you want to proceed?")) {
            HISTORY_REF.set(null)
                .then(() => { alert("Ink history successfully cleared."); })
                .catch(error => { console.error("Firebase Clear Error:", error); });
        }
    }


    // ----------------------------------------------------------------------
    // 4. üé® RENDERING FUNCTIONS (UI Updates)
    // ----------------------------------------------------------------------

    function updateSummaryDashboard(inkData, transactionCount) {
        let totalStock = inkData.reduce((sum, ink) => sum + parseFloat(ink.currentStock), 0);
        let lowStockCount = inkData.filter(ink => ink.currentStock < ink.minLevel).length;

        document.getElementById('totalStockValue').textContent = totalStock.toFixed(2);
        document.getElementById('lowStockItems').textContent = lowStockCount;
        document.getElementById('totalTransactions').textContent = transactionCount;
    }

    function renderStockTable(inkData) {
        const tableBody = document.getElementById('stockTableBody');
        tableBody.innerHTML = '';
        const inkSelect = document.getElementById('inkSelect');
        inkSelect.innerHTML = '<option value="">-- Select Ink Type --</option>';
        
        let lowStockCount = 0;

        inkData.forEach(ink => {
            const isLowStock = ink.currentStock < ink.minLevel;
            if (isLowStock) { lowStockCount++; }
            
            const row = tableBody.insertRow();
            row.className = isLowStock ? 'low-stock' : '';

            row.insertCell().textContent = ink.name;
            row.insertCell().textContent = parseFloat(ink.currentStock).toFixed(2);

            const minCell = row.insertCell();
            const minInput = document.createElement('input');
            minInput.type = 'number';
            minInput.min = '0';
            minInput.value = ink.minLevel;
            minInput.className = 'min-input';
            minCell.appendChild(minInput);

            const statusCell = row.insertCell();
            statusCell.textContent = isLowStock ? "üí• LOW STOCK" : "‚úÖ OK";
            statusCell.style.color = isLowStock ? 'var(--danger-color)' : 'var(--success-color)';
            statusCell.style.fontWeight = 'bold';

            const option = document.createElement('option');
            option.value = ink.name;
            option.textContent = ink.name;
            inkSelect.appendChild(option);
        });
        
        updateLowStockBadge(lowStockCount);
    }

    function updateLowStockBadge(count) {
        const badge = document.getElementById('badgeCount');
        if (count > 0) {
            badge.textContent = count;
            badge.style.display = 'block';
        } else {
            badge.style.display = 'none';
        }
    }

    function renderHistoryTable(historyData) {
        const tableBody = document.getElementById('historyTableBody');
        tableBody.innerHTML = '';

        historyData.forEach(log => {
            const row = tableBody.insertRow();
            row.insertCell().textContent = log.date;
            row.insertCell().textContent = log.ink;
            row.insertCell().textContent = log.printer || 'N/A';
            
            const operationCell = row.insertCell();
            const operationText = log.type === 'ADD' ? 'Stock Added' : 'Stock Used';
            operationCell.textContent = operationText;
            
            const amountCell = row.insertCell();
            const displayAmount = Math.round(log.amount * 100) / 100;
            amountCell.textContent = (log.type === 'ADD' ? '+' : '-') + displayAmount;
            amountCell.style.color = log.type === 'ADD' ? 'var(--success-color)' : 'var(--danger-color)';
            amountCell.style.fontWeight = '500';
        });
    }

    // ----------------------------------------------------------------------
    // 5. üõí STOCK MOVEMENT FUNCTIONS
    // ----------------------------------------------------------------------

    function updateMovementButtons() {
        const printerSelect = document.getElementById('printerSelect').value;
        const addBtn = document.getElementById('addBtn');
        const useBtn = document.getElementById('useBtn');

        addBtn.style.display = 'none';
        useBtn.style.display = 'none';
        
        if (printerSelect === 'General Stock') {
            addBtn.style.display = 'flex';
            useBtn.style.display = 'flex';
        } else if (printerSelect === 'Printer 1' || printerSelect === 'Printer 2') {
            useBtn.style.display = 'flex';
        }
    }

    function getStockDataFromTable() {
        const rows = document.querySelectorAll('#stockTableBody tr');
        return Array.from(rows).map(row => {
            return {
                name: row.cells[0].textContent,
                currentStock: parseFloat(row.cells[1].textContent) || 0,
                minLevel: parseFloat(row.querySelector('.min-input').value) || 0
            };
        });
    }
    
    function handleMovement(type) {
        const inkName = document.getElementById('inkSelect').value;
        const printerName = document.getElementById('printerSelect').value;
        const amount = parseFloat(document.getElementById('movementAmount').value);
        const date = document.getElementById('movementDate').value;

        if (!inkName || !amount || amount <= 0 || !date || !printerName) {
            alert("Please fill in Ink Type, Printer/Location, Amount, and Date.");
            return;
        }

        if (type === 'ADD' && printerName !== 'General Stock') {
            alert("Stock In operations must be logged against 'General Stock'.");
            return;
        }

        STOCK_REF.once('value', (snapshot) => {
            if (!snapshot.exists()) return;

            let currentStockObj = snapshot.val();
            const inkKey = inkName;
            let inkData = currentStockObj[inkKey];

            if (!inkData) {
                alert(`Ink type ${inkName} not found in database.`);
                return;
            }

            let newStockLevel = inkData.currentStock;
            if (type === 'ADD') {
                newStockLevel += amount;
            } else if (type === 'USE') {
                if (inkData.currentStock < amount) {
                    alert("‚ùå Insufficient Stock! Current Stock: " + inkData.currentStock.toFixed(2) + " Qty.");
                    return;
                }
                newStockLevel -= amount;
            }
            
            if (newStockLevel < inkData.minLevel) {
                alert(`‚ö†Ô∏è LOW STOCK WARNING! ${inkName} is now at ${newStockLevel.toFixed(2)} Qty (Min: ${inkData.minLevel}). Please reorder.`);
            }

            inkData.currentStock = newStockLevel;

            STOCK_REF.child(inkKey).set(inkData)
                .then(() => {
                    const newLog = {
                        date: date,
                        ink: inkName,
                        printer: printerName,
                        type: type === 'ADD' ? 'ADD' : 'USE',
                        amount: amount,
                        timestamp: firebase.database.ServerValue.TIMESTAMP
                    };

                    HISTORY_REF.push(newLog)
                        .then(() => {
                            document.getElementById('movementAmount').value = '';
                            document.getElementById('printerSelect').value = '';
                            updateMovementButtons();
                        })
                        .catch(error => console.error("History Push Error:", error));
                })
                .catch(error => console.error("Stock Update Error:", error));
        });
    }

    function addStock() { handleMovement('ADD'); }
    function useStock() { handleMovement('USE'); }

    // ----------------------------------------------------------------------
    // 6. ‚¨áÔ∏è EXPORT/CSV FUNCTIONS
    // ----------------------------------------------------------------------
    
    function generateCSV(data, filename) {
        let csvContent = "data:text/csv;charset=utf-8,";
        csvContent += "Date,Ink Type,Printer/Stock Location,Operation,Amount (Qty)\n";

        data.forEach(log => {
            const operation = log.type === 'ADD' ? 'Stock Added' : 'Stock Used';
            const amount = (log.type === 'ADD' ? '+' : '-') + (Math.round(log.amount * 100) / 100);
            const printer = log.printer || 'N/A';

            const row = [`"${log.date}"`, `"${log.ink}"`, `"${printer}"`, `"${operation}"`, amount];
            csvContent += row.join(",") + "\n";
        });

        const encodedUri = encodeURI(csvContent);
        const link = document.createElement("a");
        link.setAttribute("href", encodedUri);
        link.setAttribute("download", filename);
        document.body.appendChild(link);
        link.click();
        document.body.removeChild(link);
    }

    function exportCurrentHistory() {
        HISTORY_REF.once('value', (snapshot) => {
            const historyObj = snapshot.val();
            if (!historyObj) {
                alert("No transactions found to export.");
                return;
            }

            const historyLog = Object.values(historyObj);
            const today = new Date().toISOString().substring(0, 10);
            generateCSV(historyLog, `Ink_Log_Full_${today}.csv`);
        });
    }

    function exportCSV() {
        const startDate = document.getElementById('startDate').value;
        const endDate = document.getElementById('endDate').value;

        if (!startDate || !endDate) {
            alert("Please select both a Start Date and End Date for the report.");
            return;
        }

        const start = new Date(startDate);
        const end = new Date(endDate);
        end.setHours(23, 59, 59, 999);

        if (start > end) {
            alert("Start Date cannot be after End Date.");
            return;
        }

        HISTORY_REF.once('value', (snapshot) => {
            const historyObj = snapshot.val();
            if (!historyObj) {
                alert("No transactions found.");
                return;
            }

            const historyLog = Object.values(historyObj);

            const filteredData = historyLog.filter(log => {
                const logDate = new Date(log.date);
                return logDate >= start && logDate <= end;
            });

            if (filteredData.length === 0) {
                alert("No transactions found within the selected date range.");
                return;
            }

            generateCSV(filteredData, `Ink_Stock_Report_${startDate}_to_${endDate}.csv`);
        });
    }

    // ----------------------------------------------------------------------
    // 7. üöÄ INITIALIZATION
    // ----------------------------------------------------------------------

    function initializeAppServices() {
        const today = new Date().toISOString().substring(0, 10);
        document.getElementById('movementDate').value = today;
        document.getElementById('startDate').value = today;
        document.getElementById('endDate').value = today;

        loadAndListenToStock();
        loadAndListenToHistory();
        updateMovementButtons();
        
        // Hide history section on initial load
        document.getElementById('historyTableSection').style.display = 'none';
    }

    document.addEventListener('DOMContentLoaded', initializeAppServices);
</script>

</body>
</html>
